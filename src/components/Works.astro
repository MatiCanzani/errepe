---
import { Image } from "astro:assets";
import Event01 from "../images/works/Desktop_1.png";
import Event02 from "../images/works/Desktop_2.png";
import Event05 from "../images/works/Desktop_5.png";
import Front1 from "../images/works/Desktop-2-2-2.png";
import Front3 from "../images/works/Desktop_1_1_1.png";
import Front2 from "../images/works/Desktop_3_3_3.png";

const images = [
  {
    src: Front1,
    alt: "Front page design version 1 for desktop",
  },
  {
    src: Event01,
    alt: "Event page design version 1 for desktop",
  },
  {
    src: Front3,
    alt: "Front page design version 3 for desktop",
  },
  {
    src: Event02,
    alt: "Event page design version 2 for desktop",
  },
  {
    src: Front2,
    alt: "Front page design version 2 for desktop",
  },
  {
    src: Event05,
    alt: "Event page design version 5 for desktop",
  },
];
---

<div class="w-full xl:w-full h-full mx-auto my-0 bg-deep-blue p-10 works">
  <div class="columns-1 md:columns-2">
    {
      images.map((data) => (
        <div class="relative mb-4 before:content-[''] before:rounded-md before:absolute ">
          <Image src={data.src} alt={data.alt} class="rounded-md w-full box" />
        </div>
      ))
    }
  </div>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  document.querySelectorAll(".box").forEach((box, index) => {
    gsap.from(box, {
      opacity: 0,
      yPercent: 10,
      ease: "power2",
      duration: 1,
      scrollTrigger: {
        trigger: box,
        start: "top 90%",
        end: "bottom 20%",
      },
      delay: index * 0.2,
    });
  });
</script>
