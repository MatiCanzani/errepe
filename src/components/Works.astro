---
import ImageGroup from "./ImageGroup.astro";
import Event01 from "../images/works/Desktop_1.png";
import Event02 from "../images/works/Desktop_2.png";
import Event05 from "../images/works/Desktop_5.png";
import Front1 from "../images/works/Desktop-2-2-2.png";
import Front3 from "../images/works/Desktop_1_1_1.png";
import Front2 from "../images/works/Desktop_3_3_3.png";

const imageGroups = [
  {
    images: [
      { src: Front1, alt: "Front page design version 1" },
      { src: Event01, alt: "Event page design version 1" }
    ],
    reverseOnDesktop: false
  },
  {
    images: [
      { src: Front3, alt: "Front page design version 3" },
      { src: Event02, alt: "Event page design version 2" }
    ],
    reverseOnDesktop: true // ‚Üê This group reverses order on desktop
  },
  {
    images: [
      { src: Front2, alt: "Front page design version 2" },
      { src: Event05, alt: "Event page design version 5" }
    ],
    reverseOnDesktop: false
  },
];
---

<div class="container w-11/12 md:w-full mx-auto py-20">
  <div class="flex flex-col gap-4 works">
    {imageGroups.map((group) => (
      <ImageGroup group={group} />
    ))}
  </div>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  document.querySelectorAll(".box").forEach((box, index) => {
    gsap.from(box, {
      opacity: 0,
      yPercent: 10,
      ease: "power2",
      duration: 1,
      scrollTrigger: {
        trigger: box,
        start: "top 90%",
        end: "bottom 20%",
      },
      delay: index * 0.2,
    });
  });
</script>